import type { NextPage } from 'next'
import Head from 'next/head'
import { useEffect } from 'react'
import packageInfo from '../../package.json'
import Heading from '../components/Heading'
import Shelf from '../components/Shelf'
import { useProductContext } from '../contexts/ProductContext'

const Index: NextPage = () => {
  const shelfSettings = {
    dots: true,
    infinite: true,
    speed: 500,
    slidesToShow: 1,
    slidesToScroll: 1
  }
  const { getProducts, currentProducts } = useProductContext()

  useEffect(() => {
    getProducts()
  }, [])

  return (
    <>
      <Head>
        <title>Fireshoes ðŸ”¥</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="w-11/12 m-auto ">
        <section>
          <Heading text="Home" center />
          <p className="text-center">VersÃ£o {packageInfo.version}</p>
        </section>
        <Shelf data={currentProducts} title="Todos os Produtos" />
      </main>
    </>
  )
}

export default Index
